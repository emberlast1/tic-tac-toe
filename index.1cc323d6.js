function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,a,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i=[],l=!0,s=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||r(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,r){if(t){if("string"==typeof t)return e(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if("Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e(t,r)}}var a=/*#__PURE__*/function(){var a;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.cells=document.querySelectorAll(".cell"),this.restartButton=document.querySelector(".player_restart"),this.player1Message=document.querySelector(".win_message__player1"),this.player2Message=document.querySelector(".win_message__player2"),this.playerVsPlayerButton=document.querySelector(".player_vs_player"),this.playerVsComputerButton=document.querySelector(".player_vs_computer"),this.difficultyButtons={easy:document.querySelector(".difficult_easy"),medium:document.querySelector(".difficult_medium"),hard:document.querySelector(".difficult_hard")},this.scorePlayer1El=document.querySelector(".score-player_one"),this.scorePlayer2El=document.querySelector(".score-player_two"),this.player1Panel=document.querySelector(".player_one"),this.player2Panel=document.querySelector(".player_two"),this.playerOrComputerNameEl=document.querySelector(".player_computer"),this.playerOrComputerMessageEl=document.querySelector(".player_or_computer_message"),this.gameTable=document.querySelector(".game__table"),this.gameState={board:Array(9).fill(null),currentPlayer:"X",scores:{X:0,O:0},gameMode:"computer",difficulty:"hard",isGameOver:!1},this.winningCombinations=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],this.init()}return a=[{key:"init",value:function(){var e=this;this.cells.forEach(function(t){t.addEventListener("click",function(t){return e.handleCellClick(t)})}),this.restartButton.addEventListener("click",function(){return e.fullRestart()}),this.playerVsPlayerButton.addEventListener("click",function(){return e.setGameMode("player")}),this.playerVsComputerButton.addEventListener("click",function(){return e.setGameMode("computer")}),this.difficultyButtons.easy.addEventListener("click",function(){return e.setDifficulty("easy")}),this.difficultyButtons.medium.addEventListener("click",function(){return e.setDifficulty("medium")}),this.difficultyButtons.hard.addEventListener("click",function(){return e.setDifficulty("hard")}),this.updateUI()}},{key:"handleCellClick",value:function(e){var t=this;if(!this.gameState.isGameOver){var r=e.currentTarget,a=parseInt(r.dataset.index);isNaN(a)||null!==this.gameState.board[a]||(this.makeMove(r,a),"computer"!==this.gameState.gameMode||this.gameState.isGameOver||"O"!==this.gameState.currentPlayer||(this.disableBoard(),setTimeout(function(){return t.computerMove()},1e3)))}}},{key:"makeMove",value:function(e,t){this.gameState.board[t]=this.gameState.currentPlayer,e.innerHTML="X"===this.gameState.currentPlayer?"&#10060;":"&#11093;",e.classList.add("X"===this.gameState.currentPlayer?"cell-x":"cell-o"),this.checkEndCondition()||(this.switchPlayer(),this.updateUI())}},{key:"checkEndCondition",value:function(){var e=this.checkWinner();return e?(this.endGame(e.winner,e.combination),!0):!!this.isDraw()&&(this.endGame(null),!0)}},{key:"checkWinner",value:function(){var e=!0,r=!1,a=void 0;try{for(var n,i=this.winningCombinations[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var l=n.value,s=t(l,3),o=s[0],u=s[1],c=s[2];if(this.gameState.board[o]&&this.gameState.board[o]===this.gameState.board[u]&&this.gameState.board[o]===this.gameState.board[c])return{winner:this.gameState.board[o],combination:l}}}catch(e){r=!0,a=e}finally{try{e||null==i.return||i.return()}finally{if(r)throw a}}return null}},{key:"isDraw",value:function(){return this.gameState.board.every(function(e){return null!==e})}},{key:"endGame",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.gameState.isGameOver=!0,this.disableBoard(),e?(this.gameState.scores[e]++,r.forEach(function(e){return t.cells[e].classList.add("cell-win")})):this.cells.forEach(function(e){return e.classList.add("cell-pat")}),this.updateUI(),5===this.gameState.scores.X||5===this.gameState.scores.O?this.showFinalWinner():setTimeout(function(){return t.roundRestart()},2e3)}},{key:"showFinalWinner",value:function(){this.gameTable.style.display="none",5===this.gameState.scores.X?this.player1Message.removeAttribute("hidden"):this.player2Message.removeAttribute("hidden")}},{key:"switchPlayer",value:function(){this.gameState.currentPlayer="X"===this.gameState.currentPlayer?"O":"X"}},{key:"computerMove",value:function(){if(!this.gameState.isGameOver){var e=-1,t=this.getAvailableCells();if("hard"===this.gameState.difficulty&&-1===(e=this.findWinningMove("O"))&&(e=this.findWinningMove("X")),"medium"===this.gameState.difficulty&&Math.random()>.5&&-1===(e=this.findWinningMove("O"))&&(e=this.findWinningMove("X")),-1===e&&(e=t[Math.floor(Math.random()*t.length)]),void 0!==e){var r=this.cells[e];this.makeMove(r,e)}this.enableBoard()}}},{key:"findWinningMove",value:function(a){var n=!0,i=!1,l=void 0;try{for(var s,o=this.getAvailableCells()[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var u=s.value,c=(f=this.gameState.board,function(t){if(Array.isArray(t))return e(t)}(f)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(f)||r(f)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());c[u]=a;var y=!0,h=!1,d=void 0;try{for(var f,m,p=this.winningCombinations[Symbol.iterator]();!(y=(m=p.next()).done);y=!0){var v=m.value,g=t(v,3),b=g[0],S=g[1],k=g[2];if(c[b]===a&&c[S]===a&&c[k]===a)return u}}catch(e){h=!0,d=e}finally{try{y||null==p.return||p.return()}finally{if(h)throw d}}}}catch(e){i=!0,l=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw l}}return -1}},{key:"getAvailableCells",value:function(){return this.gameState.board.map(function(e,t){return null===e?t:null}).filter(function(e){return null!==e})}},{key:"roundRestart",value:function(){this.gameState.board.fill(null),this.gameState.isGameOver=!1,this.gameState.currentPlayer="X",this.cells.forEach(function(e){e.innerHTML="",e.classList.remove("cell-x","cell-o","cell-win","cell-pat")}),this.enableBoard(),this.updateUI()}},{key:"fullRestart",value:function(){this.roundRestart(),this.gameState.scores={X:0,O:0},this.player1Message.setAttribute("hidden",!0),this.player2Message.setAttribute("hidden",!0),this.gameTable.style.display="flex",this.updateUI()}},{key:"setGameMode",value:function(e){this.gameState.gameMode=e,this.fullRestart(),"player"===e?(this.playerVsPlayerButton.style.transform="scale(1.2)",this.playerVsPlayerButton.style.backgroundColor="#2f6d2f",this.playerVsComputerButton.style.transform="scale(1)",this.playerVsComputerButton.style.backgroundColor="rgb(143, 31, 31)",this.playerOrComputerNameEl.innerHTML="Player 2",this.playerOrComputerMessageEl.innerHTML="Player 2 win!"):(this.playerVsComputerButton.style.transform="scale(1.2)",this.playerVsComputerButton.style.backgroundColor="#2f6d2f",this.playerVsPlayerButton.style.transform="scale(1)",this.playerVsPlayerButton.style.backgroundColor="rgb(143, 31, 31)",this.playerOrComputerNameEl.innerHTML="Computer",this.playerOrComputerMessageEl.innerHTML="Computer win!")}},{key:"setDifficulty",value:function(e){var t=this;this.gameState.difficulty=e,Object.keys(this.difficultyButtons).forEach(function(e){t.difficultyButtons[e].classList.remove("difficult_active")}),this.difficultyButtons[e].classList.add("difficult_active")}},{key:"updateUI",value:function(){this.scorePlayer1El.innerHTML=this.gameState.scores.X,this.scorePlayer2El.innerHTML=this.gameState.scores.O,this.gameState.isGameOver||("X"===this.gameState.currentPlayer?(this.player1Panel.style.backgroundColor="green",this.player1Panel.style.transform="scale(1.2)",this.player2Panel.style.backgroundColor="rgb(143, 31, 31)",this.player2Panel.style.transform="scale(1)"):(this.player2Panel.style.backgroundColor="green",this.player2Panel.style.transform="scale(1.2)",this.player1Panel.style.backgroundColor="rgb(143, 31, 31)",this.player1Panel.style.transform="scale(1)"))}},{key:"disableBoard",value:function(){this.cells.forEach(function(e){e.style.pointerEvents="none"})}},{key:"enableBoard",value:function(){var e=this;this.cells.forEach(function(t,r){null===e.gameState.board[r]&&(t.style.pointerEvents="auto")})}}],function(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(n.prototype,a),n}();document.addEventListener("DOMContentLoaded",new a);
//# sourceMappingURL=index.1cc323d6.js.map
